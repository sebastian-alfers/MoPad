<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: GameListModel.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: GameListModel.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>define(['jquery', 'backbone', 'collections/GameCollection', 'models/GameModel'], function($, Backbone, GameCollection, GameModel) {

    var GameListModel = Backbone.Model.extend({
        /**
         * @author Sebastian Alfers
         *
         * @class Model to store and render all
         *        games and the selected Game.
         *
         * @constructs
         *
         * GameListModel
         */
        defaults:{
            gameCollection:null,
            currentGame:null
        },

        /**
         * @memberof GameListModel
         * @member gameCollection
         * @type GameCollection
         * @desc all the games we fetched from the api
         * @see parse()
         */

        /**
         * @memberof GameListModel
         * @member currentGame
         * @type GameModel
         * @desc set by the GameListView in the method chooseGame()
         * @see GameListView:chooseGame()
         */

        //url:'games-json.php',
        url:'http://admin.mo-pad.de/mopad/api/getgames',

        /**
         * @memberof GameListModel
         * @function parse
         *
         * @desc method to fetch the games from the API
         */
        parse:function (data) {

            //console.log(data);

            var gameCollection = new GameCollection();

            _.each(data.games, function (game) {
                gameCollection.add(new GameModel(game));
            });

            this.gameCollection = gameCollection;
            this.trigger('afterLoadGameCollection', this.gameCollection);
        },

        /**
         * @memberof GameListModel
         * @function initialize
         *
         * @desc constructor
         */
        initialize:function () {
            this.fetch({
                success:function (games) {
                    //console.log(games);
                }
            });
        },

        /**
         * @memberof GameListModel
         * @function render
         *
         * @desc draw the games
         */
        render:function (gameCollection) {

            $list = $('#list_games_li');
            gameCollection.forEach(function (game) {
                $list.append('&lt;li>&lt;a href="#" class="game-link">' + game.get('name') + '&lt;/a>&lt;/li>');
            });
        }

    });


    // Returns the Model class
    return GameListModel;

});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="GameListModel.html">GameListModel</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.1.0</a> on Mon Feb 11 2013 20:05:25 GMT+0100 (MEZ)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
